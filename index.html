<!DOCTYPE html>
<html ng-app="studentApp">
<head>
  <title>AngularJS Filters & Directives Example</title>
  <!-- AngularJS CDN (1.8.2 is stable and supports most modern browsers) -->
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
  <style>
    body {
      font-family: Arial, Helvetica, sans-serif;
      padding: 20px;
      background: #f9f9f9;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }
    th, td {
      border: 1px solid #ddd;
      padding: 12px;
      text-align: left;
    }
    th {
      background-color: #4CAF50;
      color: white;
    }
    tr:hover {
      background-color: #f1f1f1;
    }
    input, button {
      padding: 10px;
      margin: 8px 0;
      font-size: 16px;
    }
    button {
      background-color: #008CBA;
      color: white;
      border: none;
      cursor: pointer;
    }
    button:hover {
      background-color: #006d9c;
    }
  </style>
</head>
<body ng-controller="studentCtrl">

  <h2>Student Details</h2>

  <!-- Search input with ng-focus & ng-blur -->
  <input type="text" 
         placeholder="Search by Course" 
         ng-model="searchCourse" 
         ng-focus="onFocus()" 
         ng-blur="onBlur()">

  <p style="color: #006400;">{{message}}</p>

  <!-- Reset button with ng-click -->
  <button ng-click="reset()">Reset Search</button>

  <hr>

  <!-- Student Table with filters & directives -->
  <table>
    <tr>
      <th>ID</th>
      <th>Name</th>
      <th>Course</th>
      <th>Fees</th>
      <th>Joining Date</th>
      <th>GPA</th>
    </tr>
    <tr ng-repeat="s in students | filter:{course: searchCourse}"
        ng-mouseenter="hoverIn()" 
        ng-mouseleave="hoverOut()">
      <td>{{s.id | number}}</td>                  <!-- number filter -->
      <td>{{s.name | uppercase}}</td>             <!-- uppercase filter -->
      <td>{{s.course | lowercase}}</td>           <!-- lowercase filter -->
      <td>{{s.fees | currency:"â‚¹"}}</td>          <!-- currency filter -->
      <td>{{s.joiningDate | date:'dd-MM-yyyy'}}</td> <!-- date filter -->
      <td>{{s.gpa}}</td>
    </tr>
  </table>

  <p style="color: #8B4513;">{{hoverMessage}}</p>

  <script>
    var app = angular.module("studentApp", []);

    app.controller("studentCtrl", function($scope, $http) {
      
      // Load students.json file
      $http.get("students.json").then(function(response) {
        $scope.students = response.data;
      }).catch(function(error) {
        console.error("Error loading students.json:", error);
      });

      // ng-focus
      $scope.onFocus = function() {
        $scope.message = "Input field focused!";
      };

      // ng-blur
      $scope.onBlur = function() {
        $scope.message = "Input field lost focus.";
      };

      // ng-click - reset search
      $scope.reset = function() {
        $scope.searchCourse = "";
      };

      // Mouse enter/leave (ng-mouseenter, ng-mouseleave)
      $scope.hoverIn = function() {
        $scope.hoverMessage = "Mouse entered a row!";
      };

      $scope.hoverOut = function() {
        $scope.hoverMessage = "Mouse left the row.";
      };

    });
  </script>

</body>
</html>